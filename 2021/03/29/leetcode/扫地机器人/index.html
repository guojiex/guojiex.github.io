<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">
  <meta name="google-site-verification" content="WLOb_rW9OMZrR5YqGG9DEpQ9Jix2ZUGg1N44neW47ts">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="/lib/font-awesome/5.13.0/css/all.min.css">
  <link rel="stylesheet" href="/lib/anime.css/4.1.1/anime.min.css">

<script class="next-config" data-name="main" type="application/json">{"hostname":"guojiex.github.io","root":"/","images":"/images","scheme":"Pisces","darkmode":false,"version":"8.18.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"style":"default","show_result":true},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"}}</script><script src="/js/config.js"></script>

    <meta name="description" content="未知房间矩阵，扫地机器人要求把所有能到达的格子都扫一遍（含测试代码）。">
<meta property="og:type" content="article">
<meta property="og:title" content="leetcode康复训练 Robot Room Cleaner 扫地机器人">
<meta property="og:url" content="http://guojiex.github.io/2021/03/29/leetcode/%E6%89%AB%E5%9C%B0%E6%9C%BA%E5%99%A8%E4%BA%BA/index.html">
<meta property="og:site_name" content="节瓜的生活经验">
<meta property="og:description" content="未知房间矩阵，扫地机器人要求把所有能到达的格子都扫一遍（含测试代码）。">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2021-03-29T01:34:59.000Z">
<meta property="article:modified_time" content="2024-09-22T08:02:31.381Z">
<meta property="article:author" content="Jiexin Guo">
<meta property="article:tag" content="leetcode">
<meta property="article:tag" content="algorithm">
<meta property="article:tag" content="leetcode康复训练">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://guojiex.github.io/2021/03/29/leetcode/%E6%89%AB%E5%9C%B0%E6%9C%BA%E5%99%A8%E4%BA%BA/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"http://guojiex.github.io/2021/03/29/leetcode/%E6%89%AB%E5%9C%B0%E6%9C%BA%E5%99%A8%E4%BA%BA/","path":"2021/03/29/leetcode/扫地机器人/","title":"leetcode康复训练 Robot Room Cleaner 扫地机器人"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>leetcode康复训练 Robot Room Cleaner 扫地机器人 | 节瓜的生活经验</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">节瓜的生活经验</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">如果能重来，我要选李白</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li><li class="menu-item menu-item-sitemap"><a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>站点地图</a></li>
  </ul>
</nav>




</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#LeetCode-489-Robot-Room-Cleaner-%E6%89%AB%E5%9C%B0%E6%9C%BA%E5%99%A8%E4%BA%BA"><span class="nav-number">1.</span> <span class="nav-text">[LeetCode] 489. Robot Room Cleaner 扫地机器人</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE%E6%8F%8F%E8%BF%B0"><span class="nav-number">1.1.</span> <span class="nav-text">题目描述</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B5%8B%E8%AF%95driver"><span class="nav-number">1.2.</span> <span class="nav-text">测试driver</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Room"><span class="nav-number">1.2.1.</span> <span class="nav-text">Room</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Robot"><span class="nav-number">1.2.2.</span> <span class="nav-text">Robot</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%BB%E5%87%BD%E6%95%B0"><span class="nav-number">1.2.3.</span> <span class="nav-text">主函数</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Solution"><span class="nav-number">1.3.</span> <span class="nav-text">Solution</span></a></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Jiexin Guo"
      src="/images/avatar.jpeg">
  <p class="site-author-name" itemprop="name">Jiexin Guo</p>
  <div class="site-description" itemprop="description">你是要做一辈子的懦夫，还是要做英雄，哪怕只是几分钟</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">41</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">14</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">72</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://www.linkedin.com/in/guojiex" title="Linkedin → https:&#x2F;&#x2F;www.linkedin.com&#x2F;in&#x2F;guojiex" rel="noopener me" target="_blank"><i class="linkedin fa-fw"></i>Linkedin</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://github.com/guojiex" title="Github → https:&#x2F;&#x2F;github.com&#x2F;guojiex" rel="noopener me" target="_blank"><i class="github fa-fw"></i>Github</a>
      </span>
      <span class="links-of-author-item">
        <a href="http://weibo.com/u/3094351151" title="Weibo → http:&#x2F;&#x2F;weibo.com&#x2F;u&#x2F;3094351151" rel="noopener me" target="_blank"><i class="weibo fa-fw"></i>Weibo</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:1036479561@qq.com" title="E-Mail → mailto:1036479561@qq.com" rel="noopener me" target="_blank"><i class="envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.youtube.com/channel/UCDZeZKfpdoOhAxDrfHteFIA/featured?view_as=subscriber" title="YouTube → https:&#x2F;&#x2F;www.youtube.com&#x2F;channel&#x2F;UCDZeZKfpdoOhAxDrfHteFIA&#x2F;featured?view_as&#x3D;subscriber" rel="noopener me" target="_blank"><i class="youtube fa-fw"></i>YouTube</a>
      </span>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://guojiex.github.io/2021/03/29/leetcode/%E6%89%AB%E5%9C%B0%E6%9C%BA%E5%99%A8%E4%BA%BA/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="Jiexin Guo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="节瓜的生活经验">
      <meta itemprop="description" content="你是要做一辈子的懦夫，还是要做英雄，哪怕只是几分钟">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="leetcode康复训练 Robot Room Cleaner 扫地机器人 | 节瓜的生活经验">
      <meta itemprop="description" content="未知房间矩阵，扫地机器人要求把所有能到达的格子都扫一遍（含测试代码）。">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          leetcode康复训练 Robot Room Cleaner 扫地机器人
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-03-28 21:34:59" itemprop="dateCreated datePublished" datetime="2021-03-28T21:34:59-04:00">2021-03-28</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2024-09-22 04:02:31" itemprop="dateModified" datetime="2024-09-22T04:02:31-04:00">2024-09-22</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/leetcode/" itemprop="url" rel="index"><span itemprop="name">leetcode</span></a>
        </span>
    </span>

  
</div>

            <div class="post-description">未知房间矩阵，扫地机器人要求把所有能到达的格子都扫一遍（含测试代码）。</div>
        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><h1 id="LeetCode-489-Robot-Room-Cleaner-扫地机器人"><a href="#LeetCode-489-Robot-Room-Cleaner-扫地机器人" class="headerlink" title="[LeetCode] 489. Robot Room Cleaner 扫地机器人"></a>[LeetCode] 489. Robot Room Cleaner 扫地机器人</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><p>Given a robot cleaner in a room modeled as a grid.</p>
<p>Each cell in the grid can be empty or blocked.</p>
<p>The robot cleaner with 4 given APIs can move forward, turn left or turn right. Each turn it made is 90 degrees.</p>
<p>When it tries to move into a blocked cell, its bumper sensor detects the obstacle and it stays on the current cell.</p>
<p>Design an algorithm to clean the entire room using only the 4 given APIs shown below.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Robot</span> &#123;</span><br><span class="line">  <span class="comment">// returns true if next cell is open and robot moves into the cell.</span></span><br><span class="line">  <span class="comment">// returns false if next cell is obstacle and robot stays on the current cell.</span></span><br><span class="line">  <span class="type">boolean</span> <span class="title function_">move</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Robot will stay on the same cell after calling turnLeft/turnRight.</span></span><br><span class="line">  <span class="comment">// Each turn will be 90 degrees.</span></span><br><span class="line">  <span class="keyword">void</span> <span class="title function_">turnLeft</span><span class="params">()</span>;</span><br><span class="line">  <span class="keyword">void</span> <span class="title function_">turnRight</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Clean the current cell.</span></span><br><span class="line">  <span class="keyword">void</span> <span class="title function_">clean</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Example:</p>
<p>Input:<br>room = [<br>  [1,1,1,1,1,0,1,1],<br>  [1,1,1,1,1,0,1,1],<br>  [1,0,1,1,1,1,1,1],<br>  [0,0,0,1,0,0,0,0],<br>  [1,1,1,1,1,1,1,1]<br>],<br>row = 1,<br>col = 3</p>
<p>Explanation:<br>All grids in the room are marked by either 0 or 1.<br>0 means the cell is blocked, while 1 means the cell is accessible.<br>The robot initially starts at the position of row=1, col=3.<br>From the top left corner, its position is one row below and three columns right.<br>Notes:</p>
<p>The input is only given to initialize the room and the robot’s position internally. You must solve this problem “blindfolded”. In other words, you must control the robot using only the mentioned 4 APIs, without knowing the room layout and the initial robot’s position.<br>The robot’s initial position will always be in an accessible cell.<br>The initial direction of the robot will be facing up.<br>All accessible cells are connected, which means the all cells marked as 1 will be accessible by the robot.<br>Assume all four edges of the grid are all surrounded by wall.</p>
<h2 id="测试driver"><a href="#测试driver" class="headerlink" title="测试driver"></a>测试driver</h2><h3 id="Room"><a href="#Room" class="headerlink" title="Room"></a>Room</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> copy</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Room</span>:</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, accessable=<span class="number">0</span>, room_map=<span class="literal">None</span></span>):</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> room_map:</span><br><span class="line">            self._room_map = [[<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">                              [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">                              [<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">                              [<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">                              [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>]]</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            self._room_map = room_map</span><br><span class="line">        self._cleaned_map = copy.deepcopy(self._room_map)</span><br><span class="line">        self._x_length = <span class="built_in">len</span>(self._room_map)</span><br><span class="line">        self._y_length = <span class="built_in">len</span>(self._room_map[<span class="number">0</span>])</span><br><span class="line">        self._accessable = accessable</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">canMoveTo</span>(<span class="params">self, x, y</span>):</span><br><span class="line">        <span class="keyword">if</span> x &gt;= <span class="number">0</span> <span class="keyword">and</span> x &lt; self._x_length <span class="keyword">and</span> y &gt;= <span class="number">0</span> <span class="keyword">and</span> y &lt; self._y_length <span class="keyword">and</span> self._room_map[x][y] == self._accessable:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">clean</span>(<span class="params">self, x, y</span>):</span><br><span class="line">        <span class="keyword">if</span> self.canMoveTo(x, y) <span class="keyword">and</span> self._cleaned_map[x][y] == self._accessable:</span><br><span class="line">            self._cleaned_map[x][y] = <span class="number">1</span></span><br></pre></td></tr></table></figure>

<h3 id="Robot"><a href="#Robot" class="headerlink" title="Robot"></a>Robot</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Robot</span>:</span><br><span class="line"></span><br><span class="line">    <span class="comment"># direction can only be 0 1 2 3</span></span><br><span class="line">    <span class="comment"># top left corner of the room matrix is (0,0)</span></span><br><span class="line">    <span class="comment"># 0 means go down, 1 means go left, 2 means go up, 3 means go right</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, start_x: <span class="built_in">int</span> = <span class="number">0</span>, start_y: <span class="built_in">int</span> = <span class="number">2</span>, start_direction: <span class="built_in">int</span> = <span class="number">2</span>, room: Room = Room(<span class="params"></span>)</span>):</span><br><span class="line">        self._room = room</span><br><span class="line">        self._x = start_x</span><br><span class="line">        self._y = start_y</span><br><span class="line">        self._direction = start_direction</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;room:\n&#x27;</span>, self._room._room_map)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">move</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">if</span> self._direction == <span class="number">0</span>:</span><br><span class="line">            new_x = self._x + <span class="number">1</span></span><br><span class="line">            new_y = self._y</span><br><span class="line">        <span class="keyword">elif</span> self._direction == <span class="number">1</span>:</span><br><span class="line">            new_x = self._x</span><br><span class="line">            new_y = self._y - <span class="number">1</span></span><br><span class="line">        <span class="keyword">elif</span> self._direction == <span class="number">2</span>:</span><br><span class="line">            new_x = self._x - <span class="number">1</span></span><br><span class="line">            new_y = self._y</span><br><span class="line">        <span class="keyword">elif</span> self._direction == <span class="number">3</span>:</span><br><span class="line">            new_x = self._x</span><br><span class="line">            new_y = self._y + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(self._room.canMoveTo(new_x, new_y)):</span><br><span class="line">            self._x = new_x</span><br><span class="line">            self._y = new_y</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">turnLeft</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment"># Use plus to avoid negative value</span></span><br><span class="line">        <span class="comment"># down -&gt; turnLeft -&gt; right</span></span><br><span class="line">        <span class="comment"># 0 -&gt; 3, 1 -&gt; 0, 2 -&gt; 1, 3 -&gt; 2</span></span><br><span class="line">        self._direction = (self._direction + <span class="number">3</span>) % <span class="number">4</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">turnRight</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment"># 0 -&gt; 1, 1 -&gt; 2, 2 -&gt; 3, 3 -&gt; 0</span></span><br><span class="line">        self._direction = (self._direction + <span class="number">1</span>) % <span class="number">4</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">clean</span>(<span class="params">self</span>):</span><br><span class="line">        self._room.clean(self._x, self._y)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">printCleanMap</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(self._room._cleaned_map)</span><br></pre></td></tr></table></figure>

<h3 id="主函数"><a href="#主函数" class="headerlink" title="主函数"></a>主函数</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">robot = Robot()</span><br><span class="line">cleanAll(robot)</span><br><span class="line"><span class="built_in">print</span>(robot._room._cleaned_map)</span><br></pre></td></tr></table></figure>

<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>思路是遍历每一格。</p>
<ul>
<li>进到这一格，首先clean清理地板</li>
<li>把当前格的相对坐标加进visited</li>
<li>开始转向往前走，注意回溯的时候，要先转180度，走一步回到当前格子，然后再转180度，保证回到最开始没有往前走的格子和方向。</li>
<li>走四个方向</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">directions = [(-<span class="number">1</span>, <span class="number">0</span>), (<span class="number">0</span>, <span class="number">1</span>), (<span class="number">1</span>, <span class="number">0</span>), (<span class="number">0</span>, -<span class="number">1</span>)]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">visit</span>(<span class="params">robot, x, y, direction, visited</span>):</span><br><span class="line">    robot.clean()</span><br><span class="line">    visited.add((x, y))</span><br><span class="line">    <span class="keyword">for</span> index <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(directions)):</span><br><span class="line">        current_dir = (index+direction) % <span class="built_in">len</span>(directions)</span><br><span class="line">        new_x = x + directions[current_dir][<span class="number">0</span>]</span><br><span class="line">        new_y = y + directions[current_dir][<span class="number">1</span>]</span><br><span class="line">        <span class="keyword">if</span> (new_x, new_y) <span class="keyword">not</span> <span class="keyword">in</span> visited <span class="keyword">and</span> robot.move():</span><br><span class="line">            visit(robot, new_x, new_y, current_dir, visited)</span><br><span class="line">            robot.turnRight()</span><br><span class="line">            robot.turnRight()</span><br><span class="line">            robot.move()</span><br><span class="line">            robot.turnLeft()</span><br><span class="line">            robot.turnLeft()</span><br><span class="line">        robot.turnRight()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">cleanAll</span>(<span class="params">robot</span>):</span><br><span class="line">    visit(robot, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="built_in">set</span>())</span><br></pre></td></tr></table></figure>
    </div>

    
    
    

    <footer class="post-footer">
          <div class="reward-container">
  <div>请我一杯咖啡吧！</div>
  <button>
    赞赏
  </button>
  <div class="post-reward">
      <div>
        <img src="/images/alipay.jpg" alt="Jiexin Guo 支付宝">
        <span>支付宝</span>
      </div>

  </div>
</div>

          <div class="post-tags">
              <a href="/tags/leetcode/" rel="tag"># leetcode</a>
              <a href="/tags/algorithm/" rel="tag"># algorithm</a>
              <a href="/tags/leetcode%E5%BA%B7%E5%A4%8D%E8%AE%AD%E7%BB%83/" rel="tag"># leetcode康复训练</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2021/03/14/testing/%E8%B0%B7%E6%AD%8C%E6%B5%8B%E8%AF%95%E7%8E%AF%E5%A2%83%E7%AE%80%E8%BF%B0/" rel="prev" title="谷歌测试环境综述">
                  <i class="fa fa-angle-left"></i> 谷歌测试环境综述
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2021/06/15/life/%E7%BE%8E%E5%9B%BD%E5%B7%A5%E4%BD%9C%E5%90%8E%E5%9B%9E%E5%9B%BD%E6%8C%87%E5%8D%97/" rel="next" title="美国工作后回国指南">
                  美国工作后回国指南 <i class="fa fa-angle-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="beian"><a href="https://beian.miit.gov.cn/" rel="noopener" target="_blank">粤ICP备2022007474号 </a>
  </div>
  <div class="copyright">
    &copy; 2016 – 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Jiexin Guo</span>
  </div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/pisces/" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="/lib/animejs/3.2.1/anime.min.js"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  






  





</body>
</html>
