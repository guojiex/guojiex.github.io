<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 6.3 (452849)"/><meta name="altitude" content="304"/><meta name="author" content="Jiexin Guo"/><meta name="created" content="2016-01-04 22:30:38 +0000"/><meta name="latitude" content="40.44208423312762"/><meta name="longitude" content="-79.94635087065345"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2016-01-06 17:28:54 +0000"/><title>Step2 Angularjs模板</title></head><body>
<div>视图与模板：</div>
<div>在angularjs中，视图就是对应数据模型model的html模板，也就意味着一旦数据模型model的数据发生改变，视图也会随之改变（含有数据绑定的部分）</div>
<div>
<p style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><strong style="box-sizing: border-box; font-weight: 700;"><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); white-space: nowrap; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px;"><span style="box-sizing: border-box; color: rgb(51, 51, 51);">app</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">/</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">index</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">.</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">html</span></code>:</strong></p>
<div style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 9.5px; color: rgb(51, 51, 51); background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: inherit; padding: 0px; color: inherit; background-color: transparent; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px;"><span style="box-sizing: border-box; color: navy;">&lt;html</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: teal;">ng-app</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">=</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">"phonecatApp"</span><span style="box-sizing: border-box; color: navy;">&gt;</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/></span><span style="box-sizing: border-box; color: navy;">&lt;head&gt;</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
  ...<br/>
 </span> <span style="box-sizing: border-box; color: navy;">&lt;script</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: teal;">src</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">=</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">"bower_components/angular/angular.js"</span><span style="box-sizing: border-box; color: navy;">&gt;&lt;/script&gt;</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
 </span> <span style="box-sizing: border-box; color: navy;">&lt;script</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: teal;">src</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">=</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">"js/controllers.js"</span><span style="box-sizing: border-box; color: navy;">&gt;&lt;/script&gt;</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/></span><span style="box-sizing: border-box; color: navy;">&lt;/head&gt;</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/></span><span style="box-sizing: border-box; color: navy;">&lt;body</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: teal;">ng-controller</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">=</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">"PhoneListCtrl"</span><span style="box-sizing: border-box; color: navy;">&gt;</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
<br/>
 </span> <span style="box-sizing: border-box; color: navy;">&lt;ul&gt;</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
   </span> <span style="box-sizing: border-box; color: navy;">&lt;li</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: teal;">ng-repeat</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">=</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">"phone in phones"</span><span style="box-sizing: border-box; color: navy;">&gt;</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
     </span> <span style="box-sizing: border-box; color: navy;">&lt;span&gt;</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">{{phone.name}}</span><span style="box-sizing: border-box; color: navy;">&lt;/span&gt;</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
     </span> <span style="box-sizing: border-box; color: navy;">&lt;p&gt;</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">{{phone.snippet}}</span><span style="box-sizing: border-box; color: navy;">&lt;/p&gt;</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
   </span> <span style="box-sizing: border-box; color: navy;">&lt;/li&gt;</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
 </span> <span style="box-sizing: border-box; color: navy;">&lt;/ul&gt;</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
<br/></span><span style="box-sizing: border-box; color: navy;">&lt;/body&gt;</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/></span><span style="box-sizing: border-box; color: navy;">&lt;/html&gt;</span></code></div>
</div>
<div>
<p style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;">We replaced the hard-coded phone list with the <a href="https://docs.angularjs.org/tutorial/api/ng/directive/ngRepeat" style="box-sizing: border-box; color: rgb(66, 139, 202); text-decoration: none; background-position: 0px 0px; background-repeat: initial initial;">ngRepeat directive</a> and two <a href="https://docs.angularjs.org/tutorial/guide/expression" style="box-sizing: border-box; color: rgb(66, 139, 202); text-decoration: none; background-position: 0px 0px; background-repeat: initial initial;">Angular expressions</a>:</p>
<ul style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;">
<li style="box-sizing: border-box;">The <code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); white-space: nowrap; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px;"><span style="box-sizing: border-box; color: rgb(51, 51, 51);">ng</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">-</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">repeat</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">=</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">"phone in phones"</span></code> attribute in the <code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); white-space: nowrap; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px;"><span style="box-sizing: border-box; color: navy;">&lt;li&gt;</span></code> tag is an Angular repeater directive. The repeater tells Angular to create a <code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); white-space: nowrap; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px;"><span style="box-sizing: border-box; color: navy;">&lt;li&gt;</span></code> element for each phone in the list using the <code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); white-space: nowrap; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px;"><span style="box-sizing: border-box; color: navy;">&lt;li&gt;</span></code> tag as the template.</li>
<li style="box-sizing: border-box;">The expressions wrapped in curly braces (<code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); white-space: nowrap; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px;"><span style="box-sizing: border-box; color: rgb(51, 51, 51);">{{</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">phone</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">.</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">name</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">}}</span></code> and <code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); white-space: nowrap; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px;"><span style="box-sizing: border-box; color: rgb(51, 51, 51);">{{</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">phone</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">.</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">snippet</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">}}</span></code>) will be replaced by the value of the expressions.</li>
</ul>
<div style="box-sizing: border-box;">
<div>这里我们使用angularjs的ngRepeat语句进行重复的显示：</div>
<ul>
<li><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); white-space: nowrap; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px;"><span style="box-sizing: border-box; color: rgb(51, 51, 51);">ng</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">-</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">repeat</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">=</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">"phone in phones”这句话就是说对于phones集合中的每一个phone个体，都会产生一个数据显示，因为是在&lt;li&gt;标签中写的，所以每一个phone个体都会生成一个对应的Li（列表项）</span></code></li>
</ul>
<div><br/></div>
<div>
<div style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;">
<div><br/></div>
<div>We have added a new directive, called <code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 5px; color: maroon; background-color: rgb(244, 244, 244); white-space: nowrap; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; background-position: initial initial; background-repeat: initial initial;"><span style="box-sizing: border-box; color: rgb(51, 51, 51);">ng</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">-</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">controller</span></code>, which attaches a <code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 5px; color: maroon; background-color: rgb(244, 244, 244); white-space: nowrap; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; background-position: initial initial; background-repeat: initial initial;"><span style="box-sizing: border-box; color: rgb(68, 85, 136);">PhoneListCtrl</span></code> <strong style="box-sizing: border-box; font-weight: 700;">controller</strong> to the &lt;body&gt; tag. At this point:</div>
</div>
<ul style="box-sizing: border-box; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;">
<li style="box-sizing: border-box;"><span style="color: rgb(51, 51, 51);">The expressions in curly braces (</span><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); white-space: nowrap; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px;"><span style="box-sizing: border-box; color: rgb(51, 51, 51);">{{</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">phone</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">.</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">name</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">}}</span></code><span style="color: rgb(51, 51, 51);"> and </span><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); white-space: nowrap; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px;"><span style="box-sizing: border-box; color: rgb(51, 51, 51);">{{</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">phone</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">.</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">snippet</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">}}</span></code><span style="color: rgb(51, 51, 51);">) denote bindings, which are referring to our application model, which is set up in our </span><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); white-space: nowrap; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px;"><span style="box-sizing: border-box; color: rgb(68, 85, 136);">PhoneListCtrl</span></code><span style="color: rgb(51, 51, 51);"> controller.</span></li>
</ul>
<div style="box-sizing: border-box;">
<div><span style="color: rgb(51, 51, 51);">这里我们提到一个新的原语ng-controller，这个原语把名为PhoneListCtrl的控制器赋给&lt;body&gt;标签，那么{{phone.name}}的这些表达式都会在这个控制器的作用域下进行运算</span></div>
<div><span style="font: 12.0px Helvetica"><img src="Step2%20Angularjs%E6%A8%A1%E6%9D%BF.resources/2D36319A-D178-4BB7-AB1F-6003CB7444A1.png" height="395" width="649"/></span></div>
<div><br/></div>
<div>
<hr/></div>
<div><br/></div>
<div>模型与控制器：</div>
<div>数据模型被控制器PhoneListCtrl所创建，控制器其实就是一个构造函数，简单的使用了$scope作为输入参数：</div>
<div>
<p style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><strong style="box-sizing: border-box; font-weight: 700;"><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); white-space: nowrap; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px;"><span style="box-sizing: border-box; color: rgb(51, 51, 51);">app</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">/</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">js</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">/</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">controllers</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">.</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">js</span></code>:</strong></p>
<div style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 9.5px; color: rgb(51, 51, 51); background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: inherit; padding: 0px; color: inherit; background-color: transparent; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px;"><span style="box-sizing: border-box; color: rgb(51, 51, 51);">var</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> phonecatApp </span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">=</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> angular</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">.</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">module</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">(</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">'phonecatApp'</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">,</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">[]);</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
<br/>
phonecatApp</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">.</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">controller</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">(</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">'PhoneListCtrl'</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">,</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">function</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">(</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">$scope</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">)</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">{</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
  $scope</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">.</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">phones </span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">=</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">[</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
   </span> <span style="box-sizing: border-box; color: rgb(51, 51, 51);">{</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">'name'</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">:</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">'Nexus S'</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">,</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
     </span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">'snippet'</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">:</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">'Fast just got faster with Nexus S.'</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">},</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
   </span> <span style="box-sizing: border-box; color: rgb(51, 51, 51);">{</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">'name'</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">:</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">'Motorola XOOM™ with Wi-Fi'</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">,</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
     </span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">'snippet'</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">:</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">'The Next, Next Generation tablet.'</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">},</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
   </span> <span style="box-sizing: border-box; color: rgb(51, 51, 51);">{</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">'name'</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">:</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">'MOTOROLA XOOM™'</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">,</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
     </span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">'snippet'</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">:</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">'The Next, Next Generation tablet.'</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">}</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
 </span> <span style="box-sizing: border-box; color: rgb(51, 51, 51);">];</span></code>
<div><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><span style="background-color: transparent;"><span style="font-size: inherit;">});</span></span></span></div>
</div>
</div>
<div>这里我们声明了一个名叫PhoneListCtrl的控制器，而且把它注册在phonecatApp的angularjs模块中。注意我们在&lt;html&gt;标签中显式</div>
<div>声明了ng-app=phonecatApp</div>
<div>作用域scope:</div>
<div>作用域是一个共享区域，提供了一个让模板，模型和控制器协同工作的区域。在作用于中的所有变化都是同步的（数据模型的变化</div>
<div>即时反映到视图，视图的变化即时反映到数据模型）</div>
<div>
<hr/></div>
<div>测试（非全局控制器）：</div>
<div>
<p style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><strong style="box-sizing: border-box; font-weight: 700;"><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); white-space: nowrap; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px;"><span style="box-sizing: border-box; color: rgb(51, 51, 51);">test</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">/</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">unit</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">/</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">controllersSpec</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">.</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">js</span></code>:</strong></p>
<div style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 9.5px; color: rgb(51, 51, 51); background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: inherit; padding: 0px; color: inherit; background-color: transparent; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px;"><span style="box-sizing: border-box; color: rgb(51, 51, 51);">describe</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">(</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">'PhoneListCtrl'</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">,</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">function</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">(){</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
<br/>
  beforeEach</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">(</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">module</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">(</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">'phonecatApp'</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">));</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
<br/>
  it</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">(</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">'should create "phones" model with 3 phones'</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">,</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> inject</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">(</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">function</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">(</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">$controller</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">)</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">{</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
   </span> <span style="box-sizing: border-box; color: rgb(51, 51, 51);">var</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> scope </span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">=</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">{},</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
        ctrl </span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">=</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> $controller</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">(</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">'PhoneListCtrl'</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">,</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">{</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">$scope</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">:</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">scope</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">});</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
<br/>
    expect</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">(</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">scope</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">.</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">phones</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">.</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">length</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">).</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">toBe</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">(</span><span style="box-sizing: border-box; color: rgb(68, 85, 136);">3</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">);</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
 </span> <span style="box-sizing: border-box; color: rgb(51, 51, 51);">}));</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
<br/></span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">});</span></code></div>
</div>
<ul>
<li><span style="color: rgb(51, 51, 51);">beforeEach表示先载入phonecatApp模块</span></li>
<li><span style="color: rgb(51, 51, 51);">我们请求angularjs把$controller服务注入到我们的测试函数</span></li>
<li><span style="color: rgb(51, 51, 51);">我们使用$controller创建PhoneListCtrl的实例</span></li>
<li><span style="color: rgb(51, 51, 51);">在这个例子里，我们的测试是确认phones列表中含有3个记录</span></li>
</ul>
<div><span style="color: rgb(51, 51, 51);"><br/></span></div>
<div>
<hr/></div>
<div><span style="color: rgb(51, 51, 51);">编写和运行测试：</span></div>
<div><span style="color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); float: none;">Angular developers prefer the syntax of Jasmine's Behavior-driven Development (BDD) framework when writing tests. Although Angular does not require you to use Jasmine, we wrote all of the tests in this tutorial in Jasmine v1.3. You can learn about Jasmine on the </span><a href="http://jasmine.github.io/" style="box-sizing: border-box; color: rgb(66, 139, 202); text-decoration: none; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-position: 0px 0px; background-repeat: initial initial;">Jasmine home page</a><span style="color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); float: none;"> and at the </span><a href="http://jasmine.github.io/1.3/introduction.html" style="box-sizing: border-box; color: rgb(66, 139, 202); text-decoration: none; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-position: 0px 0px; background-repeat: initial initial;">Jasmine docs</a><span style="color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); float: none;">.</span></div>
<div><span style="background-color: rgb(255, 255, 255);"><span style="color: rgb(51, 51, 51);"><br/></span></span></div>
<div><span style="color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); float: none;">The angular-seed project is pre-configured to run unit tests using </span><a href="http://karma-runner.github.io/" style="box-sizing: border-box; color: rgb(66, 139, 202); text-decoration: none; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-position: 0px 0px; background-repeat: initial initial;">Karma</a><span style="color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); float: none;"> but you will need to ensure that Karma and its necessary plugins are installed. You can do this by running </span><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 5px; color: maroon; background-color: rgb(244, 244, 244); white-space: nowrap; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-position: initial initial; background-repeat: initial initial;"><span style="box-sizing: border-box; color: rgb(51, 51, 51);">npm install</span></code><span style="color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); float: none;">.</span></div>
<div><span style="background-color: rgb(255, 255, 255);"><span style="color: rgb(51, 51, 51);"><br/></span></span></div>
<div><span style="color: rgb(51, 51, 51);">想要运行测试，请执行命令：npm test</span></div>
<ul>
<li><span style="color: rgb(51, 51, 51);">karma会自动启动chrome和firefox的实例，不需要理会他们，让他们在后台工作就可以了</span></li>
<li><span style="color: rgb(51, 51, 51);">如果你的机器上面只有两者中的一个，请在test/karma.conf.js中更新浏览器设置，比如你只有chrome:</span></li>
</ul>
<div>
<div style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 9.5px; color: rgb(51, 51, 51); background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;">  ...<br/>
  browsers: ['Chrome'],<br/>
  ...</div>
</div>
<ul>
<li><span style="color: rgb(51, 51, 51);">然后你应该在控制台中看到类似以下的输出：</span></li>
</ul>
<div>
<div style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 9.5px; color: rgb(51, 51, 51); background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;"> info: Karma server started at <a href="http://localhost:9876/">http://localhost:9876/</a><br/>
  info (launcher): Starting  browser "Chrome"<br/>
  info (Chrome 22.0): Connected on socket id tPUm9DXcLHtZTKbAEO-n
<div>  Chrome 22.0: Executed 1 of 1 SUCCESS (0.093 secs / 0.004 secs)</div>
</div>
</div>
<ul>
<li><span style="color: rgb(51, 51, 51);">想要重新运行测试，只需要改变任何源代码或者测试用的js文件，karma会发现更改并且自动重新运行测试</span></li>
</ul>
<div><span style="color: rgb(51, 51, 51);"><br/></span></div>
<div><span style="color: rgb(51, 51, 51);"><br/></span></div>
<div><span style="color: rgb(51, 51, 51);"><br/></span></div>
</div>
</div>
</div>
</div>
</body></html>