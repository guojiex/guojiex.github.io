<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 6.3 (452849)"/><meta name="altitude" content="305.5835571289062"/><meta name="author" content="Jiexin Guo"/><meta name="created" content="2016-01-09 18:11:14 +0000"/><meta name="latitude" content="40.44243034780917"/><meta name="longitude" content="-79.94581604799686"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2016-01-09 22:50:54 +0000"/><title>Step6 模板链接和图像</title></head><body>
<div>数据：</div>
<div>注意phone.json文件对于每一个Phone记录包括了不重复的ID和图像url。URL指向app/img/phones/文件夹</div>
<div><br/></div>
<div>
<div style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;">
<div><strong style="box-sizing: border-box; font-weight: 700;"><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); white-space: nowrap; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px;"><span style="box-sizing: border-box; color: rgb(51, 51, 51);">app</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">/</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">phones</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">/</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">phones</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">.</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">json</span></code></strong> (样例代码):</div>
</div>
<div style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 9.5px; color: rgb(51, 51, 51); background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: inherit; padding: 0px; color: inherit; background-color: transparent; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px;"><span style="box-sizing: border-box; color: rgb(51, 51, 51);">[</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
 </span> <span style="box-sizing: border-box; color: rgb(51, 51, 51);">{</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
   </span> <span style="box-sizing: border-box; color: rgb(51, 51, 51);">...</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
   </span> <span style="box-sizing: border-box; color: rgb(221, 17, 68);">"id"</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">:</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">"motorola-defy-with-motoblur"</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">,</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
   </span> <span style="box-sizing: border-box; color: rgb(221, 17, 68);">"imageUrl"</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">:</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">"img/phones/motorola-defy-with-motoblur.0.jpg"</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">,</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
   </span> <span style="box-sizing: border-box; color: rgb(221, 17, 68);">"name"</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">:</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">"Motorola DEFY\u2122 with MOTOBLUR\u2122"</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">,</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
   </span> <span style="box-sizing: border-box; color: rgb(51, 51, 51);">...</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
 </span> <span style="box-sizing: border-box; color: rgb(51, 51, 51);">},</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
 </span> <span style="box-sizing: border-box; color: rgb(51, 51, 51);">...</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/></span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">]</span></code></div>
</div>
<div><br/></div>
<div>
<hr/></div>
<div>模板：</div>
<div>
<p style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><strong style="box-sizing: border-box; font-weight: 700;"><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); white-space: nowrap; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px;"><span style="box-sizing: border-box; color: rgb(51, 51, 51);">app</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">/</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">index</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">.</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">html</span></code>:</strong></p>
<div style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 9.5px; color: rgb(51, 51, 51); background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: inherit; padding: 0px; color: inherit; background-color: transparent; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px;"><span style="box-sizing: border-box; color: rgb(51, 51, 51);">...<br/>
       </span> <span style="box-sizing: border-box; color: navy;">&lt;ul</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: teal;">class</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">=</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">"phones"</span><span style="box-sizing: border-box; color: navy;">&gt;</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
         </span> <span style="box-sizing: border-box; color: navy;">&lt;li</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: teal;">ng-repeat</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">=</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">"phone in phones | filter:query | orderBy:orderProp"</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: teal;">class</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">=</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">"thumbnail"</span><span style="box-sizing: border-box; color: navy;">&gt;</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
           </span> <span style="box-sizing: border-box; color: navy;">&lt;a</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: teal;">href</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">=</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">"#/phones/{{phone.id}}"</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: teal;">class</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">=</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">"thumb"</span><span style="box-sizing: border-box; color: navy;">&gt;&lt;img</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: teal;">ng-src</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">=</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">"{{phone.imageUrl}}"</span><span style="box-sizing: border-box; color: navy;">&gt;&lt;/a&gt;</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
           </span> <span style="box-sizing: border-box; color: navy;">&lt;a</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: teal;">href</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">=</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">"#/phones/{{phone.id}}"</span><span style="box-sizing: border-box; color: navy;">&gt;</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">{{phone.name}}</span><span style="box-sizing: border-box; color: navy;">&lt;/a&gt;</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
           </span> <span style="box-sizing: border-box; color: navy;">&lt;p&gt;</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">{{phone.snippet}}</span><span style="box-sizing: border-box; color: navy;">&lt;/p&gt;</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
         </span> <span style="box-sizing: border-box; color: navy;">&lt;/li&gt;</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
       </span> <span style="box-sizing: border-box; color: navy;">&lt;/ul&gt;</span></code>
<div><span style="background-color: transparent;"><span style="font-size: inherit;">...</span></span></div>
</div>
</div>
<div>为了动态生成将来可以引导向phone详情页面的链接，我们使用双重大括号来绑定href属性。在step2中，我们添加{{phone.name}}绑定作为元素内容。在这一步里面，{{phone.id}}绑定被使用在元素属性中。</div>
<div>我们还在每一个记录旁边添加了phone的图片，使用img标签以及ngSrc命令。这个ngSrc命令防止浏览器把angular表达式{{表达式}}按照字面意思翻译，然后初始化一个不可用的url<span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: nowrap; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(244, 244, 244);">http</span><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: nowrap; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(244, 244, 244);">:</span><span style="box-sizing: border-box; color: rgb(153, 153, 136); font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: nowrap; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(244, 244, 244);">//localhost:8000/app/{{phone.imageUrl}}</span>，如果我们仅仅只把数据绑定写在src属性中<span style="color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); float: none;">(</span><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 5px; color: maroon; background-color: rgb(244, 244, 244); white-space: nowrap; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-position: initial initial; background-repeat: initial initial;"><span style="box-sizing: border-box; color: navy;">&lt;img</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: teal;">src</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">=</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">"{{phone.imageUrl}}”</span><span style="box-sizing: border-box; color: navy;">&gt;</span></code><span style="color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); float: none;">).</span></div>
<div><span style="background-color: rgb(255, 255, 255);"><span style="color: rgb(51, 51, 51);">我们使用ngSrc命令阻止浏览器把http请求发送到一个不可用的网址。</span></span></div>
<div><span style="background-color: rgb(255, 255, 255);"><span style="color: rgb(51, 51, 51);"><br/></span></span></div>
<div>
<hr/></div>
<div><span style="background-color: rgb(255, 255, 255);"><span style="color: rgb(51, 51, 51);">测试：</span></span></div>
<div>
<p style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><strong style="box-sizing: border-box; font-weight: 700;"><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 4px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); white-space: nowrap; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px;"><span style="box-sizing: border-box; color: rgb(51, 51, 51);">test</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">/</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">e2e</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">/</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">scenarios</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">.</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">js</span></code></strong>:</p>
<div style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 9.5px; color: rgb(51, 51, 51); background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: inherit; padding: 0px; color: inherit; background-color: transparent; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px;"><span style="box-sizing: border-box; color: rgb(51, 51, 51);">...</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
    it</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">(</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">'should render phone specific links'</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">,</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">function</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">()</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">{</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
     </span> <span style="box-sizing: border-box; color: rgb(51, 51, 51);">var</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> query </span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">=</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> element</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">(</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">by</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">.</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">model</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">(</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">'query'</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">));</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
      query</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">.</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">sendKeys</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">(</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">'nexus'</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">);</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
      element</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">.</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">all</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">(</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">by</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">.</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">css</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">(</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">'.phones li a'</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">)).</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">first</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">().</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">click</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">();</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
      browser</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">.</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">getLocationAbsUrl</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">().</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">then</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">(</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">function</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">(</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">url</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">)</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">{</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
        expect</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">(</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">url</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">).</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">toBe</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">(</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">'/phones/nexus-s'</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">);</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
     </span> <span style="box-sizing: border-box; color: rgb(51, 51, 51);">});</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
   </span> <span style="box-sizing: border-box; color: rgb(51, 51, 51);">});</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/></span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">...</span></code></div>
</div>
<div><span style="background-color: rgb(255, 255, 255);"><span style="color: rgb(51, 51, 51);">我们添加了一个新的端对端测试来确定应用产生了正确的连接</span></span></div>
<div><span style="background-color: rgb(255, 255, 255);"><span style="color: rgb(51, 51, 51);"><br/></span></span></div>
<div>
<hr/></div>
<div>
<h1 style="box-sizing: border-box; font-size: 36px; font-family: 'Open Sans'; font-weight: 500; color: rgb(51, 51, 51); font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;">Experiments</h1>
<ul style="box-sizing: border-box; list-style: none; padding: 0px; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;">
<li style="box-sizing: border-box;">Replace the <code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 5px; color: maroon; background-color: rgb(244, 244, 244); white-space: nowrap; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; background-position: initial initial; background-repeat: initial initial;"><span style="box-sizing: border-box; color: rgb(51, 51, 51);">ng</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">-</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">src</span></code> directive with a plain old <code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 5px; color: maroon; background-color: rgb(244, 244, 244); white-space: nowrap; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; background-position: initial initial; background-repeat: initial initial;"><span style="box-sizing: border-box; color: rgb(51, 51, 51);">src</span></code> attribute. Using tools such as Firebug, or Chrome's Web Inspector, or inspecting the webserver access logs, confirm that the app is indeed making an extraneous request to <code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 5px; color: maroon; background-color: rgb(244, 244, 244); white-space: nowrap; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; background-position: initial initial; background-repeat: initial initial;"><span style="box-sizing: border-box; color: rgb(221, 17, 68);">/app/</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">%</span><span style="box-sizing: border-box; color: rgb(68, 85, 136);">7B</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">%</span><span style="box-sizing: border-box; color: rgb(68, 85, 136);">7Bphone</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">.</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">imageUrl</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">%</span><span style="box-sizing: border-box; color: rgb(68, 85, 136);">7D</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">%</span><span style="box-sizing: border-box; color: rgb(68, 85, 136);">7D</span></code> (or<code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 5px; color: maroon; background-color: rgb(244, 244, 244); white-space: nowrap; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; background-position: initial initial; background-repeat: initial initial;"><span style="box-sizing: border-box; color: rgb(221, 17, 68);">/app/</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">{{</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">phone</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">.</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">imageUrl</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">}}</span></code>).</li>
<li style="box-sizing: border-box;">The issue here is that the browser will fire a request for that invalid image address as soon as it hits the <code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 2px 5px; color: maroon; background-color: rgb(244, 244, 244); white-space: nowrap; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; background-position: initial initial; background-repeat: initial initial;"><span style="box-sizing: border-box; color: rgb(51, 51, 51);">img</span></code> tag, which is before Angular has a chance to evaluate the expression and inject the valid address.</li>
</ul>
</div>
</body></html>