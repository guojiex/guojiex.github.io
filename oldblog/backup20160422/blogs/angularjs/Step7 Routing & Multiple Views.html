<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 6.4 (452971)"/><meta name="altitude" content="305.5835571289062"/><meta name="author" content="Jiexin Guo"/><meta name="created" content="2016-01-09 22:52:06 +0000"/><meta name="latitude" content="40.44243034780917"/><meta name="longitude" content="-79.94581604799686"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2016-01-16 19:51:40 +0000"/><title>Step7 Routing &amp; Multiple Views</title></head><body>
<div>依赖：</div>
<div>这一步添加的路由功能是使用angular的ngRoute功能，这个功能是相对于核心angular框架来说，独立分发的。</div>
<div>我们使用bower来安装客户端依赖，这一步更新bower.json设置文件来引入新的依赖：</div>
<div>
<div style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 9.5px; color: rgb(51, 51, 51); background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: inherit; padding: 0px; color: inherit; background-color: transparent; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px;"><span style="box-sizing: border-box; color: rgb(51, 51, 51);">{</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
 </span> <span style="box-sizing: border-box; color: rgb(221, 17, 68);">"name"</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">:</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">"angular-phonecat"</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">,</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
 </span> <span style="box-sizing: border-box; color: rgb(221, 17, 68);">"description"</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">:</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">"A starter project for AngularJS"</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">,</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
 </span> <span style="box-sizing: border-box; color: rgb(221, 17, 68);">"version"</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">:</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">"0.0.0"</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">,</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
 </span> <span style="box-sizing: border-box; color: rgb(221, 17, 68);">"homepage"</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">:</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">"<a href="https://github.com/angular/angular-phonecat">https://github.com/angular/angular-phonecat</a>"</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">,</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
 </span> <span style="box-sizing: border-box; color: rgb(221, 17, 68);">"license"</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">:</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">"MIT"</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">,</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
 </span> <span style="box-sizing: border-box; color: rgb(221, 17, 68);">"private"</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">:</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">true</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">,</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
 </span> <span style="box-sizing: border-box; color: rgb(221, 17, 68);">"dependencies"</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">:</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">{</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
   </span> <span style="box-sizing: border-box; color: rgb(221, 17, 68);">"angular"</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">:</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">"1.4.x"</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">,</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
   </span> <span style="box-sizing: border-box; color: rgb(221, 17, 68);">"angular-mocks"</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">:</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">"1.4.x"</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">,</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
   </span> <span style="box-sizing: border-box; color: rgb(221, 17, 68);">"jquery"</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">:</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">"~2.1.1"</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">,</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
   </span> <span style="box-sizing: border-box; color: rgb(221, 17, 68);">"bootstrap"</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">:</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">"~3.1.1"</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">,</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
   </span> <span style="box-sizing: border-box; color: rgb(221, 17, 68);">"angular-route"</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">:</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">"1.4.x"</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
 </span> <span style="box-sizing: border-box; color: rgb(51, 51, 51);">}</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/></span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">}</span></code></div>
</div>
<div>新的依赖<span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: nowrap; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(244, 244, 244);">"angular-route"</span><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: nowrap; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(244, 244, 244);">:</span><span style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: nowrap; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(244, 244, 244);"> </span><span style="box-sizing: border-box; color: rgb(221, 17, 68); font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: nowrap; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(244, 244, 244);">"1.4.x”</span>告诉bower去安装一个可以兼容1.4.x版本的angular-route。我们必须告诉bower去下载和安装这个依赖。</div>
<div>如果你的bower是全局安装的，name你可以运行bower install。但是对于我们这个项目，我们要重设npm来跑bower为我们安装:</div>
<div>npm install</div>
<div><br/></div>
<div>
<hr/></div>
<div>多视图，路由和布局模板</div>
<div>我们的应用慢慢成长迭代，正在变得复杂。在step7之前，我们的应用只给用户提供单视图（所有手机的列表）以及所有模板都放在index.html文件中。下一步我们就要继续完善我们的应用，添加一个视图使得我们可以显示在我们列表中每一个设备的详细信息。</div>
<div>为了添加这个详情信息视图，我们可以扩展index.html来包含两种视图的模板，但是这样做的话我们的代码会变得很乱。相反，我们想要把index.html模板转化成我们称之为“布局模板”的东西。这是一个通用模板，对于我们应用的所有视图都有效。其他的所谓“部分模板”，会紧接着被引入到这个布局模板（根据当前的路由路径）-当前正在被向用户显示的视图。</div>
<div>应用路由在angular中通过$routeProvider声明，这个还是$route服务的提供者。这个服务使得把控制器，视图模板，以及当前在浏览器中的url路径连接在一起变得更加简单。使用这个特性，我们可以实现深度链接<a href="http://en.wikipedia.org/wiki/Deep_linking" style="box-sizing: border-box; color: rgb(66, 139, 202); text-decoration: none; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14.166666030883789px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-position: 0px 0px; background-repeat: initial initial;">deep linking</a><span style="color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); float: none;"><span style="font-size: 14.166666030883789px;">,这个可以让我们使用浏览器的历史（前进和后退浏览）</span>以及书签。</span></div>
<div><span style="background-color: rgb(255, 255, 255);"><span style="color: rgb(51, 51, 51);"><br/></span></span></div>
<div>
<hr/></div>
<div>
<h3 style="box-sizing: border-box; font-family: 'Open Sans'; font-weight: 500; color: rgb(51, 51, 51); font-size: 24px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;">A Note About DI, Injector and Providers</h3>
<p style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14.166666030883789px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;">As you <a href="https://docs.angularjs.org/tutorial/tutorial/step_05" style="box-sizing: border-box; color: rgb(66, 139, 202); text-decoration: none; background-position: 0px 0px; background-repeat: initial initial;">noticed</a>, <a href="https://docs.angularjs.org/tutorial/guide/di" style="box-sizing: border-box; color: rgb(66, 139, 202); text-decoration: none; background-position: 0px 0px; background-repeat: initial initial;">dependency injection</a> (DI) is at the core of AngularJS, so it's important for you to understand a thing or two about how it works.</p>
<p style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14.166666030883789px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;">When the application bootstraps, Angular creates an injector that will be used to find and inject all of the services that are required by your app. The injector itself doesn't know anything about what <code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 12.499999046325684px; padding: 2px 5px; color: maroon; background-color: rgb(244, 244, 244); white-space: nowrap; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; background-position: initial initial; background-repeat: initial initial;"><span style="box-sizing: border-box; color: rgb(51, 51, 51);">$http</span></code> or <code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 12.499999046325684px; padding: 2px 5px; color: maroon; background-color: rgb(244, 244, 244); white-space: nowrap; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; background-position: initial initial; background-repeat: initial initial;"><span style="box-sizing: border-box; color: rgb(51, 51, 51);">$route</span></code> services do. In fact, the injector doesn't even know about the existence of these services unless it is configured with proper module definitions.</p>
<p style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14.166666030883789px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;">The injector only carries out the following steps :</p>
<ul style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14.166666030883789px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;">
<li style="box-sizing: border-box;">load the module definition(s) that you specify in your app</li>
<li style="box-sizing: border-box;">register all Providers defined in these module definitions</li>
<li style="box-sizing: border-box;">when asked to do so, inject a specified function and any necessary dependencies (services) that it lazily instantiates via their Providers.</li>
</ul>
<p style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14.166666030883789px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;">Providers are objects that provide (create) instances of services and expose configuration APIs that can be used to control the creation and runtime behavior of a service. In case of the <code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 12.499999046325684px; padding: 2px 5px; color: maroon; background-color: rgb(244, 244, 244); white-space: nowrap; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; background-position: initial initial; background-repeat: initial initial;"><span style="box-sizing: border-box; color: rgb(51, 51, 51);">$route</span></code> service, the <code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 12.499999046325684px; padding: 2px 5px; color: maroon; background-color: rgb(244, 244, 244); white-space: nowrap; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; background-position: initial initial; background-repeat: initial initial;"><span style="box-sizing: border-box; color: rgb(51, 51, 51);">$routeProvider</span></code> exposes APIs that allow you to define routes for your application.</p>
<div style="box-sizing: border-box; padding: 15px; border: 1px solid rgb(250, 235, 204); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(252, 248, 227); color: rgb(138, 109, 59); font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14.166666030883789px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><strong style="box-sizing: border-box; font-weight: 700;">Note:</strong> Providers can only be injected into <code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 12.499999046325684px; padding: 2px 4px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); white-space: nowrap; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px;"><span style="box-sizing: border-box; color: rgb(51, 51, 51);">config</span></code> functions. Thus you could not inject<code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 12.499999046325684px; padding: 2px 4px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); white-space: nowrap; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px;"><span style="box-sizing: border-box; color: rgb(51, 51, 51);">$routeProvider</span></code> into <code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 12.499999046325684px; padding: 2px 4px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); white-space: nowrap; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px;"><span style="box-sizing: border-box; color: rgb(68, 85, 136);">PhoneListCtrl</span></code>.</div>
<p style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14.166666030883789px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;">Angular modules solve the problem of removing global state from the application and provide a way of configuring the injector. As opposed to AMD or require.js modules, Angular modules don't try to solve the problem of script load ordering or lazy script fetching. These goals are totally independent and both module systems can live side by side and fulfill their goals.</p>
</div>
<div><br/></div>
<div>
<div style="box-sizing: border-box; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;">
<div><span style="color: rgb(51, 51, 51);"><span style="font-size: 14.166666030883789px;">To deepen your understanding of DI on Angular, see <a href="https://github.com/angular/angular.js/wiki/Understanding-Dependency-Injection" style="box-sizing: border-box; color: rgb(66, 139, 202); text-decoration: none; background-position: 0px 0px; background-repeat: initial initial;"><span style="font-size: 14.166666030883789px;">Understanding Dependency Injection</span></a>.</span></span></div>
<div><span style="color: rgb(51, 51, 51);"><br/></span></div>
<div>
<hr/></div>
<div><span style="color: rgb(51, 51, 51);"><span style="font-size: 14.166666030883789px;">模板：</span></span></div>
<div><span style="color: rgb(51, 51, 51);"><span style="font-size: 14.166666030883789px;">$route服务经常和ngView命令连用。ngView的作用就是把对当前路由路径的视图模板引入到布局模板中。这对我们的index.html来说是十分好用的。</span></span></div>
<div><strong style="box-sizing: border-box; font-weight: 700; color: rgb(49, 112, 143); font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14.166666030883789px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(217, 237, 247);">Note:</strong><span style="color: rgb(49, 112, 143); font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14.166666030883789px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(217, 237, 247); float: none;"> Starting with AngularJS version 1.2, </span><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 12.499999046325684px; padding: 2px 4px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); white-space: nowrap; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="box-sizing: border-box; color: rgb(51, 51, 51);">ngRoute</span></code><span style="color: rgb(49, 112, 143); font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14.166666030883789px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(217, 237, 247); float: none;"> is in its own module and must be loaded by loading the additional </span><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 12.499999046325684px; padding: 2px 4px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); white-space: nowrap; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="box-sizing: border-box; color: rgb(51, 51, 51);">angular</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">-</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">route</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">.</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">js</span></code><span style="color: rgb(49, 112, 143); font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14.166666030883789px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(217, 237, 247); float: none;"> file, which we download via Bower above.</span></div>
<div>
<p style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14.166666030883789px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><strong style="box-sizing: border-box; font-weight: 700;"><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 12.499999046325684px; padding: 2px 4px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); white-space: nowrap; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px;"><span style="box-sizing: border-box; color: rgb(51, 51, 51);">app</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">/</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">index</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">.</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">html</span></code>:</strong></p>
<div style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 9.5px; color: rgb(51, 51, 51); background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: inherit; padding: 0px; color: inherit; background-color: transparent; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px;"><span style="box-sizing: border-box; color: rgb(51, 51, 51);">&lt;!doctype html&gt;</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/></span><span style="box-sizing: border-box; color: navy;">&lt;html</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: teal;">lang</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">=</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">"en"</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: teal;">ng-app</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">=</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">"phonecatApp"</span><span style="box-sizing: border-box; color: navy;">&gt;</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/></span><span style="box-sizing: border-box; color: navy;">&lt;head&gt;</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
...<br/>
 </span> <span style="box-sizing: border-box; color: navy;">&lt;script</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: teal;">src</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">=</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">"bower_components/angular/angular.js"</span><span style="box-sizing: border-box; color: navy;">&gt;&lt;/script&gt;</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
 </span> <span style="box-sizing: border-box; color: navy;">&lt;script</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: teal;">src</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">=</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">"bower_components/angular-route/angular-route.js"</span><span style="box-sizing: border-box; color: navy;">&gt;&lt;/script&gt;</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
 </span> <span style="box-sizing: border-box; color: navy;">&lt;script</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: teal;">src</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">=</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">"js/app.js"</span><span style="box-sizing: border-box; color: navy;">&gt;&lt;/script&gt;</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
 </span> <span style="box-sizing: border-box; color: navy;">&lt;script</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: teal;">src</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">=</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">"js/controllers.js"</span><span style="box-sizing: border-box; color: navy;">&gt;&lt;/script&gt;</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/></span><span style="box-sizing: border-box; color: navy;">&lt;/head&gt;</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/></span><span style="box-sizing: border-box; color: navy;">&lt;body&gt;</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
<br/>
 </span> <span style="box-sizing: border-box; color: navy;">&lt;div</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: teal;">ng-view</span><span style="box-sizing: border-box; color: navy;">&gt;&lt;/div&gt;</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
<br/></span><span style="box-sizing: border-box; color: navy;">&lt;/body&gt;</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/></span><span style="box-sizing: border-box; color: navy;">&lt;/html&gt;</span></code></div>
</div>
<div><span style="color: rgb(51, 51, 51);">我们添加了两个新的&lt;script&gt;标签来载入额外的Js文件：</span></div>
<ul>
<li><span style="color: rgb(51, 51, 51);">angular-route.js:定义angular的ngRoute模块，用来提供路由功能</span></li>
<li><span style="color: rgb(51, 51, 51);">app.js:这个文件现在存放着我们应用的启动模块</span></li>
</ul>
<div><span style="color: rgb(51, 51, 51);">注意我们现在把index.html中的大部分代码移除，使用一个div用了ng-view属性。我们移除的那些代码都被移动到了phone-list.html中：</span></div>
<div>
<p style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14.166666030883789px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><strong style="box-sizing: border-box; font-weight: 700;"><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 12.499999046325684px; padding: 2px 4px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); white-space: nowrap; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px;"><span style="box-sizing: border-box; color: rgb(51, 51, 51);">app</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">/</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">partials</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">/</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">phone</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">-</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">list</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">.</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">html</span></code>:</strong></p>
<div style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 9.5px; color: rgb(51, 51, 51); background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: inherit; padding: 0px; color: inherit; background-color: transparent; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px;"><span style="box-sizing: border-box; color: navy;">&lt;div</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: teal;">class</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">=</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">"container-fluid"</span><span style="box-sizing: border-box; color: navy;">&gt;</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
 </span> <span style="box-sizing: border-box; color: navy;">&lt;div</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: teal;">class</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">=</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">"row"</span><span style="box-sizing: border-box; color: navy;">&gt;</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
   </span> <span style="box-sizing: border-box; color: navy;">&lt;div</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: teal;">class</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">=</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">"col-md-2"</span><span style="box-sizing: border-box; color: navy;">&gt;</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
     </span> <span style="box-sizing: border-box; color: rgb(153, 153, 136);">&lt;!--Sidebar content--&gt;</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
<br/>
      Search: </span><span style="box-sizing: border-box; color: navy;">&lt;input</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: teal;">ng-model</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">=</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">"query"</span><span style="box-sizing: border-box; color: navy;">&gt;</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
      Sort by:<br/>
     </span> <span style="box-sizing: border-box; color: navy;">&lt;select</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: teal;">ng-model</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">=</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">"orderProp"</span><span style="box-sizing: border-box; color: navy;">&gt;</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
       </span> <span style="box-sizing: border-box; color: navy;">&lt;option</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: teal;">value</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">=</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">"name"</span><span style="box-sizing: border-box; color: navy;">&gt;</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">Alphabetical</span><span style="box-sizing: border-box; color: navy;">&lt;/option&gt;</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
       </span> <span style="box-sizing: border-box; color: navy;">&lt;option</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: teal;">value</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">=</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">"age"</span><span style="box-sizing: border-box; color: navy;">&gt;</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">Newest</span><span style="box-sizing: border-box; color: navy;">&lt;/option&gt;</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
     </span> <span style="box-sizing: border-box; color: navy;">&lt;/select&gt;</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
<br/>
   </span> <span style="box-sizing: border-box; color: navy;">&lt;/div&gt;</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
   </span> <span style="box-sizing: border-box; color: navy;">&lt;div</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: teal;">class</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">=</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">"col-md-10"</span><span style="box-sizing: border-box; color: navy;">&gt;</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
     </span> <span style="box-sizing: border-box; color: rgb(153, 153, 136);">&lt;!--Body content--&gt;</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
<br/>
     </span> <span style="box-sizing: border-box; color: navy;">&lt;ul</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: teal;">class</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">=</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">"phones"</span><span style="box-sizing: border-box; color: navy;">&gt;</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
       </span> <span style="box-sizing: border-box; color: navy;">&lt;li</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: teal;">ng-repeat</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">=</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">"phone in phones | filter:query | orderBy:orderProp"</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: teal;">class</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">=</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">"thumbnail"</span><span style="box-sizing: border-box; color: navy;">&gt;</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
         </span> <span style="box-sizing: border-box; color: navy;">&lt;a</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: teal;">href</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">=</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">"#/phones/{{phone.id}}"</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: teal;">class</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">=</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">"thumb"</span><span style="box-sizing: border-box; color: navy;">&gt;&lt;img</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: teal;">ng-src</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">=</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">"{{phone.imageUrl}}"</span><span style="box-sizing: border-box; color: navy;">&gt;&lt;/a&gt;</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
         </span> <span style="box-sizing: border-box; color: navy;">&lt;a</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: teal;">href</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">=</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">"#/phones/{{phone.id}}"</span><span style="box-sizing: border-box; color: navy;">&gt;</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">{{phone.name}}</span><span style="box-sizing: border-box; color: navy;">&lt;/a&gt;</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
         </span> <span style="box-sizing: border-box; color: navy;">&lt;p&gt;</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">{{phone.snippet}}</span><span style="box-sizing: border-box; color: navy;">&lt;/p&gt;</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
       </span> <span style="box-sizing: border-box; color: navy;">&lt;/li&gt;</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
     </span> <span style="box-sizing: border-box; color: navy;">&lt;/ul&gt;</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
<br/>
   </span> <span style="box-sizing: border-box; color: navy;">&lt;/div&gt;</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
 </span> <span style="box-sizing: border-box; color: navy;">&lt;/div&gt;</span></code>
<div><span style="box-sizing: border-box; color: navy;"><span style="background-color: transparent;"><span style="font-size: inherit;">&lt;/div&gt;</span></span></span></div>
</div>
</div>
<div><span style="color: rgb(51, 51, 51);">我们也给详情视图添加了一个占位符模板：</span></div>
<div>
<p style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14.166666030883789px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><strong style="box-sizing: border-box; font-weight: 700;"><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 12.499999046325684px; padding: 2px 4px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); white-space: nowrap; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px;"><span style="box-sizing: border-box; color: rgb(51, 51, 51);">app</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">/</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">partials</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">/</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">phone</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">-</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">detail</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">.</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">html</span></code>:</strong></p>
<div style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 9.5px; color: rgb(51, 51, 51); background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;">
<div><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: inherit; padding: 0px; color: inherit; background-color: transparent; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px;"><span style="box-sizing: border-box; color: rgb(51, 51, 51);">TBD: detail view for </span><span style="box-sizing: border-box; color: navy;">&lt;span&gt;</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">{{phoneId}}</span><span style="box-sizing: border-box; color: navy;">&lt;/span&gt;</span></code></div>
</div>
</div>
<div><span style="color: rgb(51, 51, 51);">注意，我们正在使用phoneId这个表达式，这个表达式将会被定义在PhoneetailCtrl控制器中。</span></div>
<div>
<hr/></div>
<div><span style="color: rgb(51, 51, 51);">应用模块：</span></div>
<div><span style="color: rgb(51, 51, 51);">为了完善我们应用的组织，我们使用了angular的ngRoute模块，我们还把控制器转移到了我们自己的模块phonecatControllers.</span></div>
<div><span style="color: rgb(51, 51, 51);">我们添加angular-route.js到我们的Index.html，同时在controllers.js中创建了一个新的phonecatControllers模块。这不是我们要使用这些代码所要做的所有事情。我们还必须把这些模块定义成我们应用的依赖。通过把他们列入我们应用的依赖列表，我们可以使用他们提供的服务和命令。</span></div>
<div>
<p style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14.166666030883789px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><strong style="box-sizing: border-box; font-weight: 700;"><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 12.499999046325684px; padding: 2px 4px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); white-space: nowrap; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px;"><span style="box-sizing: border-box; color: rgb(51, 51, 51);">app</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">/</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">js</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">/</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">app</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">.</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">js</span></code>:</strong></p>
<div style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 9.5px; color: rgb(51, 51, 51); background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: inherit; padding: 0px; color: inherit; background-color: transparent; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px;"><span style="box-sizing: border-box; color: rgb(51, 51, 51);">var</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> phonecatApp </span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">=</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> angular</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">.</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">module</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">(</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">'phonecatApp'</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">,</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">[</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
 </span> <span style="box-sizing: border-box; color: rgb(221, 17, 68);">'ngRoute'</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">,</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
 </span> <span style="box-sizing: border-box; color: rgb(221, 17, 68);">'phonecatControllers'</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/></span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">]);</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
<br/></span></code>
<div><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><span style="background-color: transparent;"><span style="font-size: inherit;">...</span></span></span></div>
</div>
</div>
<div>住以这里的第二个被传递给angular.module的参数:[’ngRoute’,’phonecatControllers’],这个数组别处了phonecatApp模块所需要的依赖模块。</div>
<div>
<div style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 9.5px; color: rgb(51, 51, 51); background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: inherit; padding: 0px; color: inherit; background-color: transparent; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px;"><span style="box-sizing: border-box; color: rgb(51, 51, 51);">...</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
<br/>
phonecatApp</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">.</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">config</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">([</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">'$routeProvider'</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">,</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
 </span> <span style="box-sizing: border-box; color: rgb(51, 51, 51);">function</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">(</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">$routeProvider</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">)</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">{</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
    $routeProvider</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">.</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
      when</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">(</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">'/phones'</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">,</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">{</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
        templateUrl</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">:</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">'partials/phone-list.html'</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">,</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
        controller</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">:</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">'PhoneListCtrl'</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
     </span> <span style="box-sizing: border-box; color: rgb(51, 51, 51);">}).</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
      when</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">(</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">'/phones/:phoneId'</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">,</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">{</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
        templateUrl</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">:</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">'partials/phone-detail.html'</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">,</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
        controller</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">:</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">'PhoneDetailCtrl'</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
     </span> <span style="box-sizing: border-box; color: rgb(51, 51, 51);">}).</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
      otherwise</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">({</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
        redirectTo</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">:</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">'/phones'</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
     </span> <span style="box-sizing: border-box; color: rgb(51, 51, 51);">});</span></code>
<div><span style="font-size: inherit;"><span style="background-color: transparent;"> </span> <span style="box-sizing: border-box; color: rgb(51, 51, 51);"><span style="background-color: transparent;"><span style="font-size: inherit;">}]);</span></span></span></span></div>
</div>
</div>
<div>使用phonecatAppconfig()函数，我们请求$routeProvider注入到我们的设置函数，而且使用$routeProvider.when()来定义我们的路由。</div>
<div>我们应用的路由按照以下的规则定义：</div>
<ul>
<li>when(‘/phones’):显示Phone列表当url的路径为/phones.为了构造这个视图，angular会使用phone-list.html和PhoneListCtrl控制器</li>
<li>when(‘/phones/:phoneId’):当url符合这个条件的时候，将会显示phone详情视图。这里:phoneId是url中的一个可变部分。为了构造这个视图，我们将会使用phone-detail.html和PhoneDetailCtrl控制器。</li>
<li>otherwise(redirectTo:’/phones’):其他情况触发一个页面重定向到/phones</li>
</ul>
<div>我们继续使用之前几步使用的PhoneListCtrl控制器，然后还要添加一个空的PhoneDetailCtrl控制器到app/js/controllers.js文件，为Phone详情视图。</div>
<div><span style="color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14.166666030883789px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); float: none;">Note the use of the </span><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 12.499999046325684px; padding: 2px 5px; color: maroon; background-color: rgb(244, 244, 244); white-space: nowrap; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-position: initial initial; background-repeat: initial initial;"><span style="box-sizing: border-box; color: rgb(51, 51, 51);">:</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">phoneId</span></code><span style="color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14.166666030883789px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); float: none;"> parameter in the second route declaration. The </span><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 12.499999046325684px; padding: 2px 5px; color: maroon; background-color: rgb(244, 244, 244); white-space: nowrap; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-position: initial initial; background-repeat: initial initial;"><span style="box-sizing: border-box; color: rgb(51, 51, 51);">$route</span></code><span style="color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14.166666030883789px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); float: none;"> service uses the route declaration — </span><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 12.499999046325684px; padding: 2px 5px; color: maroon; background-color: rgb(244, 244, 244); white-space: nowrap; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-position: initial initial; background-repeat: initial initial;"><span style="box-sizing: border-box; color: rgb(221, 17, 68);">'/phones/:phoneId'</span></code><span style="color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14.166666030883789px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); float: none;"> — as a template that is matched against the current URL. All variables defined with the </span><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 12.499999046325684px; padding: 2px 5px; color: maroon; background-color: rgb(244, 244, 244); white-space: nowrap; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-position: initial initial; background-repeat: initial initial;"><span style="box-sizing: border-box; color: rgb(51, 51, 51);">:</span></code><span style="color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14.166666030883789px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); float: none;"> notation are extracted into the </span><a href="https://docs.angularjs.org/tutorial/api/ngRoute/service/$routeParams" style="box-sizing: border-box; color: rgb(66, 139, 202); text-decoration: none; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14.166666030883789px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-position: 0px 0px; background-repeat: initial initial;"><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 12.499999046325684px; padding: 2px 4px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); white-space: nowrap; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px;"><span style="box-sizing: border-box; color: rgb(51, 51, 51);">$routeParams</span></code></a><span style="color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14.166666030883789px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); float: none;"> object.</span></div>
<div><span style="background-color: rgb(255, 255, 255);"><span style="color: rgb(51, 51, 51);"><br/></span></span></div>
<div>
<hr/></div>
<div><span style="color: rgb(51, 51, 51);">控制器：</span></div>
<div>
<p style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14.166666030883789px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><strong style="box-sizing: border-box; font-weight: 700;"><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 12.499999046325684px; padding: 2px 4px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); white-space: nowrap; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px;"><span style="box-sizing: border-box; color: rgb(51, 51, 51);">app</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">/</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">js</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">/</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">controllers</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">.</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">js</span></code>:</strong></p>
<div style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 9.5px; color: rgb(51, 51, 51); background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: inherit; padding: 0px; color: inherit; background-color: transparent; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px;"><span style="box-sizing: border-box; color: rgb(51, 51, 51);">var</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> phonecatControllers </span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">=</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> angular</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">.</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">module</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">(</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">'phonecatControllers'</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">,</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">[]);</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
<br/>
phonecatControllers</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">.</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">controller</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">(</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">'PhoneListCtrl'</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">,</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">[</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">'$scope'</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">,</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">'$http'</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">,</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
 </span> <span style="box-sizing: border-box; color: rgb(51, 51, 51);">function</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">(</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">$scope</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">,</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> $http</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">)</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">{</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
    $http</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">.</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">get</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">(</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">'phones/phones.json'</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">).</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">success</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">(</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">function</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">(</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">data</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">)</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">{</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
      $scope</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">.</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">phones </span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">=</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> data</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">;</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
   </span> <span style="box-sizing: border-box; color: rgb(51, 51, 51);">});</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
<br/>
    $scope</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">.</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">orderProp </span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">=</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">'age'</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">;</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
 </span> <span style="box-sizing: border-box; color: rgb(51, 51, 51);">}]);</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
<br/>
phonecatControllers</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">.</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">controller</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">(</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">'PhoneDetailCtrl'</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">,</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">[</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">'$scope'</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">,</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">'$routeParams'</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">,</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
 </span> <span style="box-sizing: border-box; color: rgb(51, 51, 51);">function</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">(</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">$scope</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">,</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> $routeParams</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">)</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">{</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"><br/>
    $scope</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">.</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">phoneId </span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">=</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> $routeParams</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">.</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">phoneId</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">;</span></code>
<div><span style="font-size: inherit;"><span style="background-color: transparent;"> </span> <span style="box-sizing: border-box; color: rgb(51, 51, 51);"><span style="background-color: transparent;"><span style="font-size: inherit;">}]);</span></span></span></span></div>
</div>
</div>
<div><span style="color: rgb(51, 51, 51);">再一次，注意我们创建了一个新的模块叫做phonecatControllers。对于小的angularjs应用程序，如果只有很少控制器，那么为你的所有控制器创建一个模块是很常见的作法。当你的应用程序迭代变大，一种很常见的做法是把你的模块也进行增长，创建额外的模块。对于大型应用，你很可能会为你的程序的每一个主要特性创建一个模块。</span></div>
<div><span style="color: rgb(51, 51, 51);">因为我们的程序规模很小，我们就简单的把所有控制器放入同一个模块phonecatControllers。</span></div>
<div><span style="color: rgb(51, 51, 51);"><br/></span></div>
<div>
<hr/></div>
<div><span style="color: rgb(51, 51, 51);">测试：</span></div>
<div>为了自动测试所有的东西都被很好地结合在一起，我们写一个端对端测试，用来导航到各个url而且确认视图被正确的加载渲染：</div>
<div>
<pre style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 9.5px; word-break: normal; word-wrap: break-word; color: rgb(51, 51, 51); background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; white-space: pre-wrap; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;">
<code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: inherit; padding: 0px; color: inherit; background-color: transparent; white-space: pre-wrap; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px;"><span style="box-sizing: border-box; color: rgb(51, 51, 51);">...</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">
   it</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">(</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">'should redirect index.html to index.html#/phones'</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">,</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);" /><span style="box-sizing: border-box; color: rgb(51, 51, 51);">function</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">()</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);" /><span style="box-sizing: border-box; color: rgb(51, 51, 51);">{</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">
    browser</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">.</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">get</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">(</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">'app/index.html'</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">);</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">
    browser</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">.</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">getLocationAbsUrl</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">().</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">then</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">(</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">function</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">(</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">url</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">)</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);" /><span style="box-sizing: border-box; color: rgb(51, 51, 51);">{</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">
        expect</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">(</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">url</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">).</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">toEqual</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">(</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">'/phones'</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">);</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"
      /><span style="box-sizing: border-box; color: rgb(51, 51, 51);">});</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"
  /><span style="box-sizing: border-box; color: rgb(51, 51, 51);">});</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">

  describe</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">(</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">'Phone list view'</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">,</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);" /><span style="box-sizing: border-box; color: rgb(51, 51, 51);">function</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">()</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);" /><span style="box-sizing: border-box; color: rgb(51, 51, 51);">{</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">
    beforeEach</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">(</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">function</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">()</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);" /><span style="box-sizing: border-box; color: rgb(51, 51, 51);">{</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">
      browser</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">.</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">get</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">(</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">'app/index.html#/phones'</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">);</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"
    /><span style="box-sizing: border-box; color: rgb(51, 51, 51);">});</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"
/><span style="box-sizing: border-box; color: rgb(51, 51, 51);">...</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">

  describe</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">(</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">'Phone detail view'</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">,</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);" /><span style="box-sizing: border-box; color: rgb(51, 51, 51);">function</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">()</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);" /><span style="box-sizing: border-box; color: rgb(51, 51, 51);">{</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">

    beforeEach</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">(</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">function</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">()</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);" /><span style="box-sizing: border-box; color: rgb(51, 51, 51);">{</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">
      browser</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">.</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">get</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">(</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">'app/index.html#/phones/nexus-s'</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">);</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"
    /><span style="box-sizing: border-box; color: rgb(51, 51, 51);">});</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">


    it</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">(</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">'should display placeholder page with phoneId'</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">,</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);" /><span style="box-sizing: border-box; color: rgb(51, 51, 51);">function</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">()</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);" /><span style="box-sizing: border-box; color: rgb(51, 51, 51);">{</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">
      expect</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">(</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">element</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">(</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">by</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">.</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">binding</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">(</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">'phoneId'</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">)).</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">getText</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">()).</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">toBe</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">(</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">'nexus-s'</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">);</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"
    /><span style="box-sizing: border-box; color: rgb(51, 51, 51);">});</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"
  /><span style="box-sizing: border-box; color: rgb(51, 51, 51);">});</span></code>
</pre></div>
<div><span style="color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14.166666030883789px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); float: none;">You can now rerun </span><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 12.499999046325684px; padding: 2px 5px; color: maroon; background-color: rgb(244, 244, 244); white-space: nowrap; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-position: initial initial; background-repeat: initial initial;"><span style="box-sizing: border-box; color: rgb(51, 51, 51);">npm run protractor</span></code><span style="color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14.166666030883789px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); float: none;"> to see the tests run.</span></div>
<div><span style="background-color: rgb(255, 255, 255);"><span style="color: rgb(51, 51, 51);"><br/></span></span></div>
<div>
<hr/></div>
<div>
<h1 style="box-sizing: border-box; font-size: 36px; font-family: 'Open Sans'; font-weight: 500; color: rgb(51, 51, 51); font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;">Experiments</h1>
<ul style="box-sizing: border-box; list-style: none; padding: 0px; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14.166666030883789px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;">
<li>Try to add an <code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 12.499999046325684px; padding: 2px 4px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); white-space: nowrap; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px;"><span style="box-sizing: border-box; color: rgb(51, 51, 51);">{{</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">orderProp</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">}}</span></code> binding to <code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 12.499999046325684px; padding: 2px 4px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); white-space: nowrap; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px;"><span style="box-sizing: border-box; color: rgb(51, 51, 51);">index</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">.</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">html</span></code>, and you'll see that nothing happens even when you are in the phone list view. This is because the <code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 12.499999046325684px; padding: 2px 4px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); white-space: nowrap; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px;"><span style="box-sizing: border-box; color: rgb(51, 51, 51);">orderProp</span></code> model is visible only in the scope managed by <code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 12.499999046325684px; padding: 2px 4px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); white-space: nowrap; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px;"><span style="box-sizing: border-box; color: rgb(68, 85, 136);">PhoneListCtrl</span></code>, which is associated with the <code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 12.499999046325684px; padding: 2px 4px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); white-space: nowrap; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px;"><span style="box-sizing: border-box; color: navy;">&lt;div</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);"> </span><span style="box-sizing: border-box; color: teal;">ng-view</span><span style="box-sizing: border-box; color: navy;">&gt;</span></code> element. If you add the same binding into the <code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 12.499999046325684px; padding: 2px 4px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); white-space: nowrap; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px;"><span style="box-sizing: border-box; color: rgb(51, 51, 51);">phone</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">-</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">list</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">.</span><span style="box-sizing: border-box; color: rgb(51, 51, 51);">html</span></code> template, the binding will work as expected.</li>
</ul>
<h1 style="box-sizing: border-box; font-size: 36px; font-family: 'Open Sans'; font-weight: 500; color: rgb(51, 51, 51); font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;">Summary</h1>
</div>
<div><br/></div>
<div>
<div style="box-sizing: border-box; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14.166666030883789px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;">
<div>With the routing set up and the phone list view implemented, we're ready to go to <a href="https://docs.angularjs.org/tutorial/tutorial/step_08" style="box-sizing: border-box; color: rgb(66, 139, 202); text-decoration: none; background-position: 0px 0px; background-repeat: initial initial;">step 8</a> to implement the phone details view.</div>
</div>
</div>
<div><br/></div>
</div>
</div>
</body></html>